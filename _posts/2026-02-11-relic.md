---
layout: post
title: "Relic"
subtitle: "A modern, high-performance, and type-safe web server framework for Dart."
tags: [github]
---

## Gi·ªõi thi·ªáu

Relic l√† m·ªôt framework m√°y ch·ªß web hi·ªán ƒë·∫°i d√†nh cho ng√¥n ng·ªØ Dart, ƒë∆∞·ª£c ph√°t tri·ªÉn b·ªüi ƒë·ªôi ng≈© Serverpod. L·∫•y c·∫£m h·ª©ng t·ª´ th∆∞ vi·ªán `shelf` (ti√™u chu·∫©n c≈© c·ªßa c·ªông ƒë·ªìng Dart), Relic ra ƒë·ªùi ƒë·ªÉ gi·∫£i quy·∫øt c√°c v·∫•n ƒë·ªÅ v·ªÅ hi·ªáu nƒÉng v√† t√≠nh an to√†n c·ªßa ki·ªÉu d·ªØ li·ªáu (type safety). D·ª± √°n n√†y cung c·∫•p n·ªÅn t·∫£ng v·ªØng ch·∫Øc ƒë·ªÉ x√¢y d·ª±ng c√°c ·ª©ng d·ª•ng web scalable, API backend, ho·∫∑c microservices v·ªõi Dart. N√≥ ƒë·∫∑c bi·ªát h·ªØu √≠ch cho c√°c l·∫≠p tr√¨nh vi√™n Flutter mu·ªën s·ª≠ d·ª•ng c√πng m·ªôt ng√¥n ng·ªØ cho c·∫£ Frontend v√† Backend m√† v·∫´n ƒë·∫£m b·∫£o t·ªëc ƒë·ªô v√† ƒë·ªô tin c·∫≠y cao.

## T√≠nh nƒÉng ch√≠nh

- **Type-safe API**: H·ªá th·ªëng headers, cookies v√† context ƒë∆∞·ª£c ƒë·ªãnh ki·ªÉu m·∫°nh m·∫Ω, gi·∫£m thi·ªÉu l·ªói runtime th∆∞·ªùng g·∫∑p khi x·ª≠ l√Ω chu·ªói th√¥.
- **Hi·ªáu nƒÉng cao**: S·ª≠ d·ª•ng b·ªô ƒë·ªãnh tuy·∫øn (router) d·ª±a tr√™n c·∫•u tr√∫c c√¢y trie, gi√∫p x·ª≠ l√Ω h√†ng ng√†n route c·ª±c nhanh.
- **H·ªó tr·ª£ WebSockets**: T√≠ch h·ª£p s·∫µn WebSockets, cho ph√©p x√¢y d·ª±ng c√°c t√≠nh nƒÉng th·ªùi gian th·ª±c (real-time) d·ªÖ d√†ng.
- **Ph·ª•c v·ª• file tƒ©nh (Static Files)**: H·ªó tr·ª£ s·∫µn c√°c t√≠nh nƒÉng nh∆∞ ETag, cache busting v√† MIME types ch√≠nh x√°c.
- **Middleware m·∫°nh m·∫Ω**: D·ªÖ d√†ng t√≠ch h·ª£p logic x·ª≠ l√Ω trung gian (logging, auth) v√†o quy tr√¨nh x·ª≠ l√Ω request.
- **H·ªó tr·ª£ Hot Reload**: TƒÉng t·ªëc ƒë·ªô ph√°t tri·ªÉn v·ªõi kh·∫£ nƒÉng c·∫≠p nh·∫≠t code m√† kh√¥ng c·∫ßn kh·ªüi ƒë·ªông l·∫°i server th·ªß c√¥ng.

## H∆∞·ªõng d·∫´n c√†i ƒë·∫∑t Local (macOS)

ƒê·ªÉ ch·∫°y Relic tr√™n macOS, b·∫°n c·∫ßn c√†i ƒë·∫∑t Dart SDK tr∆∞·ªõc.

1. **C√†i ƒë·∫∑t Dart (qua Homebrew):**
   ```bash
   brew tap dart-lang/dart
   brew install dart
   ```
2. **T·∫°o d·ª± √°n m·ªõi:**
   ```bash
   dart create -t console-full my_relic_server
   cd my_relic_server
   ```
3. **Th√™m th∆∞ vi·ªán Relic:**
   ```bash
   dart pub add relic
   ```
4. **Ch·∫°y th·ª≠:**
   Sau khi vi·∫øt code v√†o `bin/my_relic_server.dart` (xem ph·∫ßn V√≠ d·ª• Code), ch·∫°y l·ªánh:
   ```bash
   dart run bin/my_relic_server.dart
   ```

## H∆∞·ªõng d·∫´n Docker

Relic ho·∫°t ƒë·ªông t·ªët trong m√¥i tr∆∞·ªùng container. D∆∞·ªõi ƒë√¢y l√† `Dockerfile` c∆° b·∫£n ƒë·ªÉ build image cho ·ª©ng d·ª•ng Relic:

1. **T·∫°o file `Dockerfile` trong th∆∞ m·ª•c g·ªëc:**
   ```dockerfile
   # S·ª≠ d·ª•ng Dart image ch√≠nh th·ª©c
   FROM dart:stable AS build

   WORKDIR /app
   COPY pubspec.* ./
   RUN dart pub get

   COPY . .
   RUN dart pub get --offline
   RUN dart compile exe bin/my_relic_server.dart -o bin/server

   # Build runtime image nh·ªè g·ªçn
   FROM scratch
   COPY --from=build /runtime/ / 
   COPY --from=build /app/bin/server /app/bin/

   # Expose port (m·∫∑c ƒë·ªãnh Relic d√πng 8080)
   EXPOSE 8080
   CMD ["/app/bin/server"]
   ```
   *(L∆∞u √Ω: N·∫øu image `scratch` qu√° t·ªëi gi·∫£n g√¢y l·ªói thi·∫øu th∆∞ vi·ªán h·ªá th·ªëng, h√£y ƒë·ªïi `FROM scratch` th√†nh `FROM debian:stable-slim`)*.

2. **Build v√† Run:**
   ```bash
   docker build -t relic-server .
   docker run -p 8080:8080 relic-server
   ```

## V√≠ d·ª• Code (Example Code)

D∆∞·ªõi ƒë√¢y l√† m·ªôt v√≠ d·ª• ƒë∆°n gi·∫£n v·ªÅ c√°ch kh·ªüi t·∫°o server, ƒë·ªãnh nghƒ©a route v√† middleware v·ªõi Relic:

```dart
import 'package:relic/relic.dart';

Future<void> main() async {
  // Kh·ªüi t·∫°o ·ª©ng d·ª•ng Relic
  final app = RelicApp()
    // Th√™m middleware log request
    ..use('/', logRequests())
    
    // ƒê·ªãnh nghƒ©a route GET c∆° b·∫£n
    ..get('/', (request) => Response.ok(
      body: Body.fromString('Ch√†o m·ª´ng ƒë·∫øn v·ªõi Relic Server! üöÄ')
    ))
    
    // ƒê·ªãnh nghƒ©a route v·ªõi tham s·ªë ƒë·ªông
    ..get('/user/:name', (request) {
      final name = request.pathParameters['name'];
      return Response.ok(
        body: Body.fromString('Xin ch√†o, $name!')
      );
    });

  print('Server ƒëang ch·∫°y t·∫°i http://localhost:8080');
  // L·∫Øng nghe requests (m·∫∑c ƒë·ªãnh port 8080)
  await app.serve();
}
```

### Sources
- [medium.com](https://vertexaisearch.cloud.google.com/grounding-api-redirect/AUZIYQFQn31HFnf-2_a1JDsv-9KcpEl8deacMsuQL21dPOXZqbSwRypLR2aH7HDOLqr1-dqItXLEaK_T0J2BBMg_-IJAamThO2sdmAOuGILpdXkmi5vi9YSUm2JVpjlXlwB78aErecxp3GcTJAUFMKyq_jhgVwHCRHlqcib746O4QKwFJDi8eUD_t3uMXMuo-geRS-6jJuuxeWIQWGKHy86LKmyp6iL9_tni)
- [medium.com](https://vertexaisearch.cloud.google.com/grounding-api-redirect/AUZIYQG-ZJS0hBpPlcBPH4GwIWbJuhagsD7tCzGLoHqsAouDkXGJR1ixF3zOR2dk1TKIQiPTZUAKtI7K0iA1kmOparJYQJxMHePD6H9btipnDzdpAbXZ-fWreuNLRTJyTmnyKvya9FE39ChWch3MuMX_ViESKRMVjlI5MnfduwWxd3EFKBi9BL0pGH87oazT)
- [serverpod.dev](https://vertexaisearch.cloud.google.com/grounding-api-redirect/AUZIYQF0LKfrIzdmjXfQckk_bnL53ZlOi4Kqhq9n11_jBcHmvksxEyirNUXlKlMwLADGa8XGNtX4XpWWttQV7w9JJ1tyklaijEiEHWCIQKkL6zrt1RRwVIDscQ6A55FbREkeXfSEKJX802Eb)
- [serverpod.dev](https://vertexaisearch.cloud.google.com/grounding-api-redirect/AUZIYQGo7O_tVrZqzh6gppt48FZnVaFgcFbaMIJazVPoaRHyMvsa_IKO0Zenc1OjtuMVjcIQrIGwGkzO1RX3MdUAT6IHSL3g6lBMdmLd7zEnZd5FWOxw8ZD0yF3UzE5f3pUO)
- [github.com](https://vertexaisearch.cloud.google.com/grounding-api-redirect/AUZIYQFoDhvnd2GXr1za8HOXX23q-eXXwXWLHRAyKLXkfHxb2erdsAtAOFhrUDLWrbOeVJLzSX0z0ydhXME49AO9Js8tLTS9JXuQ1eZt9WoZ7fPDEEBh_ARJrlNJJPTCE2w=)
- [github.com](https://vertexaisearch.cloud.google.com/grounding-api-redirect/AUZIYQEwoFkAkmqvY50CT-NBaJtPUWTLkIPOwyfFgdTBJO7gJM5GlN_ty2ISNoNm23ohqmvSCu959O0-AbI5htzIvU2e_gFpzh_onc0QaUlFEMn0GCm6TcHQMG8=)
- [serverpod.dev](https://vertexaisearch.cloud.google.com/grounding-api-redirect/AUZIYQHybc4HuJ9Bf2xlklIEEJshJpo4Vw2MqhN1lRoMj-dQqixdvVPRSgMdF2ethZKpSdMJGr1U6nJMEMN1XjHRN7kN_9l1q_U-xNqqHoHoCsHp4_U=)
- [serverpod.dev](https://vertexaisearch.cloud.google.com/grounding-api-redirect/AUZIYQGuLPvnZ50BtoTO_KOqevetXbwclV4hYxPIJRwNgPjWBKJ_UZ5R27xveN4tabUgp0_2MzWurzjSnQOkDfgKVU_ajrxpNkV5oDjpPrAyVABR5flpZqm_GAHdYYJ8L5z9JvSISDMPrDzuPJM=)
- [serverpod.dev](https://vertexaisearch.cloud.google.com/grounding-api-redirect/AUZIYQHYzF-qACBGvCawGCz1aw0K58DZodBks1gNhVfkI0P5d2dh0tQ0f7yrVbFzrpSU6rSCy4jVm-EgQ6Kwny4fudK3rqzUMUl8k0LZu5nChAA84Y6UXdmsro94nRni)
- [reddit.com](https://vertexaisearch.cloud.google.com/grounding-api-redirect/AUZIYQEO0dnj0XoSSJJMDmjrlPtXOJO_MfYREJG3tobaXzLXwTUNzmXVe7FlhMPJ4XOB8nt2xzUHnsTAzFl2wbBkwFaaOkTVxwFUwntAtzcwrfOl6PmjfbabWAUzbeGiWUX8h8ZlpqCjQzfNoEtHgmAOsf_C8asR8ZefDI5DGwm8QShYpNdOxX10ynZmyvjm9oFzqY8LOn57nTpkSN8sCK6piZE=)
- [serverpod.dev](https://vertexaisearch.cloud.google.com/grounding-api-redirect/AUZIYQEEAbTRkwaNQfKjB2Es8NBYF2O1trR8c7VnRVMwaBNSiIF8CfVuuiCq_kUs6gdWCIBfEkCaS4Y9p25ZgMDwCrUwAjjCKvCU7sx6c_6QZRVEb8U5j9VcpA==)
- [github.com](https://vertexaisearch.cloud.google.com/grounding-api-redirect/AUZIYQFWxAnLuhi_qvd1daJ1CyuXFXaVCVL40nGCcI-4G8K8PBtBltCgllCK_Olae2IPvYbUTU4f8rsPxSpBP6j6XFwcmiMv8RcgzfEZxwv6VCrfhDp4JVozpBQeHG-iwalnkPtgVvCEtJG7ni_tAfJPXIvYRDUJTG0xy4GgmA==)


### Github Page 

https://github.com/serverpod/relic

